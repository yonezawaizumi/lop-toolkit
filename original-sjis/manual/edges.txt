edges.csv の仕様

■ 仕様

　路線データ（標準的なファイル名は edges.csv）は CSV 形式で、以
下のようなフォーマットになっています。１レコード（１行）が１本の
枝に対応します。 

    <路線コード>, <駅コード1>, <駅コード2>, <駅間距離>, [枝番号], [コメント]

● 路線コード 
　整数。それぞれの枝がどの路線に属するかを識別するために自由に使
えます。このフィールドの値は以後の計算に影響しません（コメント）。

● 駅コード1・駅コード2 
　正の整数。この枝の始点（駅）と終点（駅）を表します。あらかじめ、
すべての接続駅・終端駅に固有のコード（正の整数）を振っておき、そ
のコードを記述します。「駅コード1」は「駅コード2」以下でなければ
なりません。

●  駅間距離
　整数。ＪＲの営業キロは0.1km単位なので、単位を「100ｍ」にすると
便利です（例：31.4kmなら「314」）。

● 枝番号 
　正の整数。このレコードに対応する枝の番号を表します。地図データ
と対応するように番号を振っておきます。このフィールドを省略すると、
枝番号はレコード番号（行番号）と同一になります。

● コメント 
　枝番号より右側のフィールドはコメントとみなされ、何を書いても以
後の計算に影響しません。


■ edges.csv の例

     21,36,37,244,2
     21,37,38,314,3
    206,38,39,446,4

　以上の記述は３本の枝、具体的には「三厩・中小国」「中小国・青森」
「青森・野辺地」に対応しています。実際には、枝の本数分（本州全体
だと400本程度）だけ行があることになります。

　まず最初のフィールドは路線名を表します。ここでは、「21」は津軽
線、「206」は東北本線（八戸以北）を意味しています。ただ、前述の
とおり、このフィールドの値は以後の計算に影響しないので、極端な話、
すべて「1」でもかまいません。

　次の２つのフィールドは、それぞれの枝の始点と終点を示します。こ
こでは「36＝三厩」「37＝中小国」「38＝青森」「39＝野辺地」という
コードを振っているので、各レコードはそれぞれ「三厩・中小国」「中
小国・青森」「青森・野辺地」に対応します。コードの振り方は自由で
すが、当然、駅とコードが１：１で対応している必要があります。

　その次のフィールドは距離を示します。たとえば「三厩・中小国」は
24.4kmである、と宣言しています。

　最後のフィールドは枝番号で、「三厩・中小国」に２番、「中小国・
青森」に３番、「青森・野辺地」に４番という番号を振っています。後
々、ここで振った番号をもとに制約式が作られます（たとえば「中小国・
青森」という枝に対応する枝変数は「e003」となります）。また、計算
結果を地図に描く際には、この枝番号が「制約式中の枝変数」と「地図
上の線分」との対応付けをするカギになります（地図データの中で「中
小国・青森」に対応する線分に「３」という番号を振っておく）。地図
データはいじらないことにして、路線データの枝番号を地図データに合
わせるのがいいでしょう。 

